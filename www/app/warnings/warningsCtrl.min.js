angular.module("ionic.metApp").controller("warningsCtrl",function(e,t,n,i,o,s,a,r,c,l){var g=this;n.slideHasChanged=function(e){g.update_slide(e)},g.update_slide=function(e){titles=["Watches","Warnings","Sigmet","Airmet"],n.sub_title=titles[e]},n.slide=function(e){l.slide(e)},g.refresh_all_w=function(){g.get_o_air(),g.get_sigmet(),g.get_warn(),g.get_watch()},g.refreshData=function(e){switch(e){case"Watches":g.get_watch();break;case"Warnings":g.get_warn();break;case"Sigmet":g.get_sigmet();break;case"Airmet":g.get_o_air()}},g.get_o_air=function(){e.get_o_air(function(e){g.o_items=e.items,console.log("Air"),console.log(g.o_items)})},g.get_sigmet=function(){e.get_sigmet(function(e){g.s_items=e.items,console.log("SIg"),console.log(g.s_items)})},g.get_warn=function(){e.get_warn(function(e){g.w_items=e.items,console.log("Warning"),console.log(g.w_items)})},g.get_watch=function(){e.get_watch(function(e){g.wt_items=e.items,console.log("Watch"),console.log(g.wt_items)})},s.fromTemplateUrl("app/warnings/info_item.html",{scope:n,animation:"slide-in-up"}).then(function(e){n.w_details_modal=e}),n.w_info_close=function(){var e=document.querySelector(".modal");e.setAttribute("style",""),n.w_details_modal.hide()},n.w_info_open=function(t,i){switch(n.w_details_modal.show(),i){case"o":e.get_o_air(function(e){g.warning=e.items[0],g.warning.warnType=g.warning.forecaster,console.log(g.warning)},t);break;case"s":e.get_sigmet(function(e){g.warning=e.items[0]},t);break;case"w":e.get_warn(function(e){g.warning=e.items[0]},t);break;case"wt":e.get_watch(function(e){g.warning=e.items[0],console.log(g.warning)},t)}},n.drag_close_modal=function(e){var t=window.innerHeight,i=e.gesture.center.pageY;console.log(e);var o=document.querySelector(".modal"),s="; transition: all cubic-bezier(0.1, 0.7, 0.1, 1) 400ms;";o.setAttribute("style","margin-top:"+i+"px"+s),i>t/2&&n.w_info_close(),0>i&&o.setAttribute("style","margin-top:0px"+s),i>t&&n.w_info_close()},n.drag_release=function(){var e=document.querySelector(".modal"),t="; transition: all cubic-bezier(0.1, 0.7, 0.1, 1) 400ms;";e.setAttribute("style","margin-top:0px"+t)}});