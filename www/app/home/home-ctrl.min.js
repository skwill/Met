angular.module("ionic.metApp").controller("HomeCtrl",function(e,t,n,o,a,c,s,l,u,d,m,g,f,h,_){t.activeBgImageIndex=0,t.isFlipped=!1,setTimeout(function(){"Tobago"==o.c&&t.flip("Tobago")},1e3),t.set_due_point=function(e,t){var n=t[e].value,o=/([0-9\.]+)%/g;return(r=o.exec(n))[0]},t.cTemp=function(e){var n="";return(29>e&&"night"!=t.timeOfDay()||23>e&&"night"==t.timeOfDay)&&(n="cool "+("night"!=t.timeOfDay()?"day":"night")),(e>=29&&31>=e&&"night"!=t.timeOfDay()||e>=23&&26>=e&&"night"==t.timeOfDay())&&(n="warm "+("night"!=t.timeOfDay()?"day":"night")),(e>=32&&34>=e&&"night"!=t.timeOfDay()||e>=27&&29>=e&&"night"==t.timeOfDay())&&(n="hot "+("night"!=t.timeOfDay()?"day":"night")),(e>34&&"night"!=t.timeOfDay()||e>29&&"night"==t.timeOfDay())&&(n="very hot "+("night"!=t.timeOfDay()?"day":"night")),n},t.cWind=function(e){var n="",o=e;e=e.substring(e.lastIndexOf("(")+1,e.lastIndexOf(";")),e=parseInt(e);var i=(1.15077945*e).toFixed(0)+" MPH",a=o.split("(",1)+"at "+i;return e>=0&&3>=e&&(n="Calm/Still winds coming "+a),e>=4&&10>=e&&(n="Gentle breeze "+a),e>=11&&16>=e&&(n="Moderate breeze "+a),e>=17&&21>=e&&(n="Windy breeze "+a),e>=22&&27>=e&&(n="Strong Winds "+a),e>=28&&33>=e&&(n="Very Strong Winds "+a),e>=34&&62>=e&&(n="Storm Force Winds "+a),e>63&&(n="Hurricane force winds "+a),isNaN(e)&&(n=t.capFLetter(o)),n},t.showAlert=function(e,t){d.alert({title:e,template:t})},t.flip=function(e){t.isFlipped=!t.isFlipped,"Trinidad"==e?o.ref_trin():o.ref_bago()},t.$on("$ionicView.beforeEnter",function(){}),t.$on("$ionicView.enter",function(){}),t.closeModal=function(e){t.modal.hide()},t.myGoBack=function(){h.goBack()},t.$on("modal.hidden",function(){g.release()}),t.timeOfDay=function(){var e=new Date,t=e.getHours(),n="";return t>=0&&12>t?n="morning":t>=12&&17>t?n="mid day":t>=17&&18>t?n="evening":t>=18&&(n="night"),n},t.hourOfDay=function(){var e=new Date,t=e.getHours();return t>=0&&12>=t&&(t=(0==t?"12":t)+"am"),t>12&&(t=t-12+"pm"),t},t.searchTag=function(){var e=t.timeOfDay(),n=new Date,o=n.getHours();return"morning"==e&&o>5&&7>o&&(e="sunrise"),o>=0&&5>=o&&(e="night"),"morning"==e&&(e="mid day"),e},t.my_date=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=new Date;return[t[n.getDay()],n.getDate(),e[n.getMonth()],n.getFullYear()]},t.day_string=function(e){var t=new Date,n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon"];return n[t.getDay()+e]},t.convertTimestamp=function(e){var t=new Date(1e3*e),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=t.getFullYear(),i=n[t.getMonth()],a=t.getDate(),r=t.getHours(),c=t.getMinutes(),s=t.getSeconds(),l=a+" "+i+" "+o+" "+r+":"+c+":"+s;return l},t.getAverageRGB=function(e,t){var n,o,i,a,r=5,c=document.createElement("canvas"),s=c.getContext&&c.getContext("2d"),l=-4,u={r:0,g:0,b:0},d=0,m=0;if(!s)return defaultrgb;for(i=c.height=e.naturalHeight||e.offsetHeight||e.height,o=c.width=e.naturalWidth||e.offsetWidth||e.width,s.drawImage(e,0,0),n=s.getImageData(0,0,o,i),a=n.data.length;(l+=4*r)<a;)++d,u.r+=n.data[l],u.g+=n.data[l+1],u.b+=n.data[l+2],m+=.34*u.r+.5*u.g+.16*u.b,0!==m&&(m/=2);if(m>.5);else;u.r=~~(u.r/d),u.g=~~(u.g/d),u.b=~~(u.b/d),$(t+".bar, "+t+".d3").css("background-color","rgba("+[u.r,u.g,u.b,.6].join(", ")+")"),$(t+".of1").css("background-color","rgba("+[u.r,u.g,u.b,.9].join(", ")+")")},t.capFLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},t.is_word_in_string=function(e,t){return new RegExp("\\b"+t+"\\b","i").test(e)},t.inArray=function(e,t){for(i=0;i<t.length;i++)if(t[i]==e)return t[i];return!1},t.metars_cloud=[{code:"FEW",desc:"Clear"},{code:"SCT",desc:"Partly Cloudy"},{code:"BKN",desc:"Mostly Cloudy"},{code:"OVC",desc:"Overcast"},{code:"-RA",desc:"Light Rain"},{code:"-SHRA",desc:"Light Showers"},{code:"RA",desc:"Moderate Rain"},{code:"SHRA",desc:"Moderate Showers"},{code:"+RA",desc:"Heavy Rain"},{code:"+SHRA",desc:"Heavy Showers"},{code:"TS",desc:"Thunder"},{code:"-TSRA",desc:"Light Thundershowers"},{code:"TSRA",desc:"Moderate Thundershowers"},{code:"+THRA",desc:"Heavy Thundershowers"},{code:"FC",desc:"Funnel Cloud"},{code:"BR",desc:"Mist"},{code:"FG",desc:"Fog"},{code:"FU",desc:"Smoke"},{code:"HZ",desc:"Haze"},{code:"SQ",desc:"Squall"},{code:"VCSH",desc:"showers in vicinity"}]}).controller("TrinCtrl",function(e,t,n,o,a,r,c,s,l,u,d,m,g,f,h,_,b,p){function v(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}var y=this;d(function(){t.token=o.token,void 0!=o.token&&console.log("rootscope",o.token)},5e3),t.fcasttrin="night"==t.timeOfDay()?"fair-night":"fair",t.fcastbago="sunny";var w=6e5;d(function(){f.clearCache().then(function(){console.log("- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -"),console.log("cache cleared"),h.reload(),g.reload(),y.refreshData()}),f.clearHistory()},w),o.ref_trin=function(){y.refreshData()},y.refreshData=function(){n(function(){r.getLocation().then(function(e){var n=e.coords.latitude,i=e.coords.longitude;r.reverseGeocode(n,i).then(function(e){t.currentLocationString=e,t.country=t.currentLocationString.indexOf("Tobago")>-1?"Tobago":"Trinidad",t.$watch("country",function(){o.c=t.country}),y.getCurrent(n,i),y.get_uv_index(),y.metars_trin(),y.trin_3day()})},function(e){"The last location provider was disabled"==e.message&&(e.message=e.message+"<br> Try enabling Location services in Settings"),t.showAlert("Unable to get current location","Try enabling Location services in Settings"),t.currentLocationString="Unable to get current location:"+e,o.$broadcast("scroll.refreshComplete")})},1e3),f.clearCache().then(function(){h.reload()})},y.getCurrent=function(e,n){a.getAtLocation(e,n).then(function(e){t.current=e.data,o.$broadcast("scroll.refreshComplete"),t.today=t.my_date(),y.getBackgroundImage("Trinidad, "+t.searchTag())},function(e){var n="";switch(e.status){case 404:n="No network connection";break;case"The last location provider was disabled":n=e.status+"<br> Try enabling Location services in Settings"}t.showAlert("Unable to get current conditions",n),o.$broadcast("scroll.refreshComplete")})},y.cycleBgImages=function(){n(function(){t.bgImages&&(t.activeBgImage=t.bgImages[t.activeBgImageIndex++%t.bgImages.length+3],setTimeout(function(){t.getAverageRGB(document.querySelector("#i-trin"),".trin")},2e3))})},this.getBackgroundImage=function(e){c.search(e).then(function(e){var n=e.photos;t.bgImages=n.photo,y.cycleBgImages()},function(e){console.log("Unable to get Flickr images",e)})},y.get_uv_index=function(){var n=[],o=new Date;t.has_index=!0;var i=document.getElementById("uv-index"),a=o.getDate()+"."+(o.getMonth()+1<9?"0"+(o.getMonth()+1):o.getMonth()+1)+"."+o.getFullYear();t.hour_of_day=t.hourOfDay();var r=["c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","c11"];if(e.get_uv_index(function(e){for(var o=0;o<e.items.length;o++){var c=e.items[o].uv_date.trim();a==c&&n.push(e.items[o])}if(n.length){t.uv_index=n[n.length-1];var s=Number(t.uv_index.uv_value),o=s.toFixed(0);t.uv_index.uv_value=o,console.log("scope uv",t.uv_index);var l=0==o||1==o?0:11==o||o>11?10:o-1;for(t.uv_color=r[l],x=0;x<r.length;x++)v(i,r[x])&&i.classList.remove(r[x]);t.$watch("uv_color",function(){i.className=i.className+"  "+t.uv_color})}}),!n.length){t.has_index=!1;var c=[{uv_value:0}];t.uv_index=c[0],i.className=i.className+" c1"}},y.metars_trin=function(){t.current_temp_trin="Loading..",e.get_metar(function(e){var n=e.items,o=[{id:1,icon:"icon ion-ios-location-outline",el:"met-loc",show:!1,txt:null},{id:2,icon:"icon ion-thermometer",el:null,show:!1,txt:null},{id:3,icon:"icon ion-thermometer",el:"temp",show:!0,txt:null},{id:4,icon:"icon ion-waterdrop",el:"dew",show:!0,txt:null},{id:5,icon:"icon ion-ios-speedometer-outline",el:"pressure",show:!0,txt:null},{id:6,icon:"icon ion-ios-analytics-outline",el:"winds",show:!0,txt:null},{id:7,icon:"icon",el:"weather",show:!1,txt:null},{id:8,icon:"icon",el:"weather",show:!1,txt:null},{id:9,icon:"icon ion-ios-cloudy-outline big-cloud",el:"clouds",show:!0,txt:null},{id:10,icon:"icon ion-umbrella",el:"weather",show:!1}];y.mdata=[];var a=0;for(i=0;i<n.length;i++)"TTPP"==n[i].station&&o[a]&&(y.mdata.push({id:n[a].id,label:n[a].label.replace(":",""),station:n[a].station,value:n[a].value,icon:o[a].icon,el:o[a].el,show:o[a].show}),a++);t.current_temp_trin=y.mdata[2].value.substring(0,3),y.mdata[2].txt="Looks like a "+t.cTemp(Number(t.current_temp_trin)),y.mdata[5].value=t.cWind(y.mdata[5].value),console.debug("winds",y.mdata[5].value),t.dew_point_trin=t.set_due_point(3,y.mdata);var r=[];for(i=0;i<t.metars_cloud.length;i++)y.mdata[1].value.indexOf(t.metars_cloud[i].code)>-1&&(console.log(t.metars_cloud[i].code),r.push(t.metars_cloud[i].code));for(t.cc,i=0;i<r.length;i++)for("FEW"==r[i]&&(t.inArray("SCT",r)||t.inArray("BKN",r)||t.inArray("OVC",r)||(t.cc="FEW")),"SCT"==r[i]&&(t.inArray("BKN",r)||t.inArray("OVC",r)||(t.cc="SCT")),t.inArray("BKN",r)&&(t.cc="BKN"),t.inArray("OVC",r)&&(t.cc="OVC"),x=0;x<t.metars_cloud.length;x++)r[r.length-1]==t.metars_cloud[x].code&&(t.cc=t.metars_cloud[x].code);var c="";for(x=0;x<t.metars_cloud.length;x++)t.cc==t.metars_cloud[x].code&&(c=t.metars_cloud[x].desc,t.summary_text_trin=c);c||(c="Clear",t.summary_text_trin=c);var s=new Date;if(t.fcasttrin="Clear"==c?"clear-"+t.timeOfDay():c,console.warn("the ci",c),"Clear"==c&&parseInt(s.getHours())>=0&&parseInt(s.getHours())<=5&&(t.fcasttrin="clear-night",console.log("current hour",s.getHours())),console.debug("metars trin",r,t.cc,c,t.fcasttrin),y.mdata[1].value.indexOf("NOSIG")>-1){var l=t.summary_text_trin;t.summary_text_trin=t.capFLetter(l)}else t.summary_text_trin=t.capFLetter(y.mdata[9].value.match(/\(([^)]+)\)/)[1]).replace("(","");if(t.summary_text_trin.indexOf("Haze")>-1&&(t.summary_text_trin="Dust, smoke and other dry particles may be in the air"),t.fcasttrin.indexOf("Cloudy")>-1||t.fcasttrin.indexOf("cloudy")>-1){var u="night"==t.timeOfDay()?"-night":"";t.fcasttrin=t.fcasttrin+u,parseInt(s.getHours())>=0&&parseInt(s.getHours())<=5&&(t.fcasttrin=t.fcasttrin+"-night")}})},t.showMetarsTrin=function(){m.retain(),t.mettrin_modal?t.mettrin_modal.show():s.fromTemplateUrl("app/home/metars-trin.html",function(e){t.mettrin_modal=e,t.mettrin_modal.show()},{animation:"slide-in-up"})},y.trin_3day=function(n){t.t="Today",t.tm=t.day_string(1),t.nd=t.day_string(2),e.get_forecast(function(e){var n=e.items[0];y.ftime_trin=n.forecastTime,"05:30PM"==y.ftime_trin&&(p.setObject("530pm_fcast",n),console.debug("530pm forecast from local storage",p.getObject("530pm_fcast")),t.t="Tonight",y.th=n.PiarcoFcstMxTemp,y.tl=n.PiarcoFcstMnTemp,y.maxtm=n.TmPiarcoMxTemp,y.mintm=n.TmPiarcoMnTemp,t.trin_tm_icon=n.TmWeatherPiarcoMx,y.max24=n.maxTrin24look,y.min24=n.minTrin24look,t.trin_24_icon=n.wx24),"05:30PM"!=y.ftime_trin&&(y.th=n.PiarcoFcstMxTemp,ff=p.getObject("530pm_fcast"),y.tl=ff.TmPiarcoMnTemp,y.maxtm=ff.maxTrin24look,y.mintm=ff.minTrin24look,t.trin_tm_icon=ff.wx24,y.max24=ff.maxTrin48look,y.min24=ff.minTrin48look,t.trin_24_icon=ff.wx48),t.trin_icon_today=n.imageTrin,y.sunup=n.sunrise,y.sundown=n.sunset})},y.refreshData()}).controller("BagoCtrl",function(e,t,n,o,a,r,c,s,l,u,d,m,g,f,h,_,b){var p=this;t.fcastbago="sunny";var v=6e5;d(function(){f.clearCache().then(function(){p.refreshData(),h.reload()}),f.clearHistory()},v),o.ref_bago=function(){p.refreshData()},p.refreshData=function(){r.getLocation().then(function(e){var n=e.coords.latitude,o=e.coords.longitude;r.reverseGeocode(n,o).then(function(e){t.currentLocationString=e,p.getCurrent(n,o),p.metars_bago(),p.bago_3day(),p.set_time_bubble()})},function(e){"The last location provider was disabled"==e.message&&(e.message=e.message+"<br> Try enabling Location services in Settings"),t.showAlert("Unable to get current location","Try enabling Location services in Settings"),t.currentLocationString="Unable to get current location:"+e,o.$broadcast("scroll.refreshComplete")})},p.getCurrent=function(e,n){a.getAtLocation(e,n).then(function(e){t.current=e.data,o.$broadcast("scroll.refreshComplete"),t.today=t.my_date(),p.getBackgroundImage("Tobago, "+t.searchTag())},function(e){var n="";switch(e.status){case 404:n="No network connection";break;case"The last location provider was disabled":n=e.status+"<br> Try enabling Location services in Settings"}t.showAlert("Unable to get current conditions",n),o.$broadcast("scroll.refreshComplete")})},p.cycleBgImages=function(){n(function(){t.bgImages&&(t.activeBgImage=t.bgImages[t.activeBgImageIndex++%t.bgImages.length],setTimeout(function(){t.getAverageRGB(document.querySelector("#i-bago"),".bago")},2e3))})},this.getBackgroundImage=function(e){c.search(e).then(function(e){var n=e.photos;t.bgImages=n.photo,p.cycleBgImages()},function(e){console.log("Unable to get Flickr images",e)})},p.metars_bago=function(){t.current_temp="Loading..",e.get_metar(function(e){var n=e.items,o=[{id:9,icon:"icon ion-ios-location-outline",el:"met-loc",show:!1,txt:null},{id:10,icon:"icon ",el:null,show:!1,txt:null},{id:11,icon:"icon ion-thermometer",el:"temp",show:!0,txt:null},{id:12,icon:"icon ion-waterdrop",el:"dew",show:!0,txt:null},{id:13,icon:"icon ion-ios-speedometer-outline",el:"pressure",show:!0,txt:null},{id:14,icon:"icon ion-ios-analytics-outline",el:"winds",show:!0,txt:null},{id:15,icon:"icon ion-thermometer",el:null,show:!1,txt:null},{id:16,icon:"icon ",el:null,show:!1,txt:null},{id:17,icon:"icon ion-ios-cloudy-outline big-cloud",el:"clouds",show:!0,txt:null}];p.mdatab=null,p.mdatab=[];var a=0;for(i=0;i<n.length;i++)"TTCP"==n[i].station&&(p.mdatab.push({id:n[i].id,label:n[i].label,station:n[i].station,value:n[i].value,icon:void 0!=o[a]?o[a].icon:"",el:void 0!=o[a]?o[a].el:"",show:void 0!=o[a]?o[a].show:""}),a++);t.current_temp=p.mdatab[2].value.substring(0,3),p.mdatab[2].txt="Looks like a "+t.cTemp(Number(t.current_temp)),p.mdatab[5].value=t.cWind(p.mdatab[5].value),t.dew_point=t.set_due_point(3,p.mdatab);var r=[];for(i=0;i<t.metars_cloud.length;i++)p.mdatab[1].value.indexOf(t.metars_cloud[i].code)>-1&&(console.log(t.metars_cloud[i].code),r.push(t.metars_cloud[i].code));for(t.cd,i=0;i<r.length;i++)for("FEW"==r[i]&&(t.inArray("SCT",r)||t.inArray("BKN",r)||t.inArray("OVC",r)||(t.cc="FEW")),"SCT"==r[i]&&(t.inArray("BKN",r)||t.inArray("OVC",r)||(t.cc="SCT")),t.inArray("BKN",r)&&(t.cc="BKN"),t.inArray("OVC",r)&&(t.cc="OVC"),x=0;x<t.metars_cloud.length;x++)r[r.length-1]==t.metars_cloud[x].code&&(t.cd=t.metars_cloud[x].code);var c="";for(x=0;x<t.metars_cloud.length;x++)t.cd==t.metars_cloud[x].code&&(c=t.metars_cloud[x].desc,t.summary_text=c);var s=new Date;if(t.fcastbago="Clear"==c?"clear-"+t.timeOfDay():c,"Clear"==c&&parseInt(s.getHours())>=0&&parseInt(s.getHours())<=5&&(t.fcastbago="clear-night"),console.debug("metars bago",r,t.cd,c,t.fcastbago),p.mdatab[1].value.indexOf("NOSIG")>-1){var l=t.summary_text;t.summary_text=t.capFLetter(l)}else t.summary_text=t.capFLetter(p.mdatab[9].value.match(/\(([^)]+)\)/)[1]).replace("(","");if(t.summary_text.indexOf("Haze")>-1&&(t.summary_text="Dust, smoke and other dry particles may be in the air"),t.fcastbago.indexOf("Cloudy")>-1||t.fcastbago.indexOf("cloudy")>-1){var u="night"==t.timeOfDay()?"-night":"";t.fcastbago=t.fcastbago+u,parseInt(s.getHours())>=0&&parseInt(s.getHours())<=5&&(t.fcastbago=t.fcastbago+"-night")}})},p.set_time_bubble=function(){{var e=new Date;e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()}t.hour_of_day=t.hourOfDay()},t.showMetarsBago=function(){m.retain(),t.metbago_modal?t.metbago_modal.show():s.fromTemplateUrl("app/home/metars-bago.html",function(e){t.metbago_modal=e,t.metbago_modal.show()},{animation:"slide-in-up"})},p.bago_3day=function(n){t.t="Today",t.tm=t.day_string(1),t.nd=t.day_string(2),e.get_forecast(function(e){var n=e.items[0];p.ftime_bago=n.forecastTime,"05:30PM"==p.ftime_bago&&(b.setObject("530pm_fcast",n),console.debug("530pm forecast from local storage",b.getObject("530pm_fcast")),t.t="Tonight",p.th=n.CrownFcstMxTemp,p.tl=n.CrownFcstMnTemp,p.maxtm=n.TmCrownMxTemp,p.mintm=n.TmCrownMnTemp,t.bago_tm_icon=n.TmWeatherCpMx,p.max24=n.maxTob24look,p.min24=n.minTob24look,t.bago_24_icon=n.wx24cp),"05:30PM"!=p.ftime_bago&&(p.th=n.CrownFcstMxTemp,ff=b.getObject("530pm_fcast"),p.tl=ff.TmCrownMnTemp,p.maxtm=ff.maxTob24look,p.mintm=ff.minTob24look,t.bago_tm_icon=ff.wx24cp,p.max24=ff.maxTob48look,p.min24=ff.minTob48look,t.bago_24_icon=ff.wx48cp),t.bago_icon_today=n.imagebago})},p.refreshData()}).directive("weatherIconTrin",function(){return{restrict:"E",link:function(e,t,n){e.$watch("fcasttrin",function(){setTimeout(function(){var t=e.fcasttrin.replace(/\s/g,"-").toLowerCase();console.debug("fcast trin",e.fcasttrin),e.getContentUrl=function(){return"app/home/svg/"+t+".html"}},2e3)})},template:'<div ng-include="getContentUrl()" style="padding-top: 13px"></div>'}}).directive("weatherIconBago",function(e){return{restrict:"E",link:function(e,t,n){e.$watch("fcastbago",function(){setTimeout(function(){var t=e.fcastbago.replace(/\s/g,"-").toLowerCase();e.getContentUrl=function(){return"app/home/svg/"+t+".html"}},2e3)})},template:'<div ng-include="getContentUrl()" style="padding-top: 13px"></div>'}}).directive("trinTodayIcon",function(){return{restrict:"E",link:function(e,t,n){setTimeout(function(){e.$watch("trin_icon_today",function(){var t=e.trin_icon_today.replace(/\s/g,"-").toLowerCase();console.debug("icon for today",t),e.ti1=function(){return"app/home/forecast_icons/"+t+".html"}})},2e3)},template:'<div ng-include="ti1()"></div>'}}).directive("trinTomIcon",function(){return{restrict:"E",link:function(e,t,n){setTimeout(function(){e.$watch("trin_tm_icon",function(){var t=e.trin_tm_icon.replace(/\s/g,"-").toLowerCase();e.ti2=function(){return"app/home/forecast_icons/"+t+".html"}})},2e3)},template:'<div ng-include="ti2()"></div>'}}).directive("trinNdiIcon",function(){return{restrict:"E",link:function(e,t,n){setTimeout(function(){e.$watch("trin_24_icon",function(){var t=e.trin_24_icon.replace(/\s/g,"-").toLowerCase();e.ti3=function(){return"app/home/forecast_icons/"+t+".html"}})},2e3)},template:'<div ng-include="ti3()"></div>'}}).directive("bagoTodayIcon",function(){return{restrict:"E",link:function(e,t,n){e.$watch("bago_icon_today",function(){setTimeout(function(){var t=e.bago_icon_today.replace(/\s/g,"-").toLowerCase();console.debug("icon for today",t),e.bi1=function(){return"app/home/forecast_icons/"+t+".html"}},2e3)})},template:'<div ng-include="bi1()"></div>'}}).directive("bagoTomIcon",function(){return{restrict:"E",link:function(e,t,n){e.$watch("bago_tm_icon",function(){setTimeout(function(){var t=e.bago_tm_icon.replace(/\s/g,"-").toLowerCase();console.debug("icon for 24",t),e.bi2=function(){return"app/home/forecast_icons/"+t+".html"}},2e3)})},template:'<div ng-include="bi2()"></div>'}}).directive("bagoNdiIcon",function(){return{restrict:"E",link:function(e,t,n){setTimeout(function(){e.$watch("bago_24_icon",function(){var t=e.bago_24_icon.replace(/\s/g,"-").toLowerCase();e.ti3=function(){return"app/home/forecast_icons/"+t+".html"}})},2e3)},template:'<div ng-include="bi3()"></div>'}});