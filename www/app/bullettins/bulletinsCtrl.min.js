angular.module("ionic.metApp").config(function(e){}).run(function(e,n,i,o,t){}).controller("BulletinsCtrl",function(e,n,i,o,t,l,s,c,_,f,u,a,b,r){var d=this,g=6e5;r(function(){$ionicHistory.clearCache().then(function(){console.log("- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -"),console.log("cache cleared"),a.reload(),d.refresh_all_b(),a.reload()}),$ionicHistory.clearHistory()},g),n.disableSwipe=function(){_.enableSlide(!1)},s.ready(function(){if(window.cordova){l.getDevice()}}),n.get_initial=function(){o(function(){n.slide(u.id)},1e3),console.log("get initial slide",u.id)},n.slideHasChanged=function(e){},d.refresh_all_b=function(){d.getGIBulletins(),d.get_serv_b(),d.get_flood_b(),d.get_sea_b()},d.getGIBulletins=function(){e.get_b_info(function(e){d.b_info=e.items[0]})},d.get_serv_b=function(){e.get_b_serv(function(e){d.s_items=e.items[0]})},d.get_flood_b=function(){e.get_b_flood(function(e){d.f_items=e.items[0]})},d.get_sea_b=function(){e.get_b_sea(function(e){d.r_items=e.items[0]})},t.fromTemplateUrl("app/bullettins/info_item.html",{scope:n,animation:"scale-in"}).then(function(e){n.b_details_modal=e}),n.b_info_close=function(){n.b_details_modal.hide()},n.b_info_open=function(i,o){switch(n.b_details_modal.show(),o){case"b":e.get_b_info(function(e){d.bulletin=e.items[0],console.log(d.bulletin)},i);break;case"s":e.get_b_serv(function(e){d.bulletin=e.items[0],console.log(d.bulletin)},i);break;case"f":e.get_b_flood(function(e){d.bulletin=e.items[0],console.log(d.bulletin)},i);break;case"r":e.get_b_sea(function(e){d.bulletin=e.items[0],console.log(d.bulletin)},i)}},n.slide=function(e){b.scrollTop(),_.slide(e),console.debug("slide to",e)}});