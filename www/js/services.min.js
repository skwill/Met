var forecastioWeather=["$q","$resource","$http","FORECASTIO_KEY",function(e,o,t,r){{var n="https://api.forecast.io/forecast/"+r+"/";o(n,{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}})}return{getAtLocation:function(e,o){return t.jsonp(n+e+","+o+"?callback=JSON_CALLBACK")},getForecast:function(e){},getHourly:function(e){}}}];angular.module("ionic.metApp.services",["ngResource"]).factory("Geo",function(e){return{reverseGeocode:function(o,t){var r=e.defer(),n=new google.maps.Geocoder;return n.geocode({latLng:new google.maps.LatLng(o,t)},function(e,o){if(o==google.maps.GeocoderStatus.OK){if(e.length>1){for(var t,n,a=e[1],c=[],s=!1,i=!1,l=0;l<a.address_components.length;l++){t=a.address_components[l],n=t.types;for(var f=0;f<n.length;f++)s||"locality"!=n[f]||(s=!0,c.push(t.long_name)),i||"administrative_area_level_1"!=n[f]||(i=!0,c.push(t.short_name))}r.resolve(c.join(", "))}}else r.reject(e)}),r.promise},getLocation:function(){var o=e.defer();return navigator.geolocation.getCurrentPosition(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}}}).factory("Flickr",function(e,o,t){var r="https://api.flickr.com/services/rest/",n=o(r,{method:"flickr.photos.search",user_id:"124768355@N05",tag_mode:"all",safe_search:1,jsoncallback:"JSON_CALLBACK",api_key:t,format:"json"},{get:{method:"JSONP"}});return{search:function(o,t,r){var a=e.defer();return console.log("Searching flickr for tags",o),n.get({tags:o,lat:t,lng:r},function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise}}}).factory("$localstorage",["$window",function(e){return{set:function(o,t){e.localStorage[o]=t},get:function(o,t){return e.localStorage[o]||t},setObject:function(o,t){e.localStorage[o]=JSON.stringify(t)},getObject:function(o){return JSON.parse(e.localStorage[o]||"{}")}}}]).factory("Weather",forecastioWeather);