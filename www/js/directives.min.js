angular.module("ionic.metApp.directives",["ngAnimate"]).directive("currentTime",function(e,t){return{restrict:"E",replace:!0,template:'<span class="current-time">{{currentTime}}</span>',scope:{localtz:"="},link:function(r,n,i){e(function c(){r.localtz&&(r.currentTime=t("date")(+new Date,"h:mm")+r.localtz),e(c,500)})}}}).directive("currentWeatherTrin",function(e,t){return{restrict:"E",replace:!0,templateUrl:"app/home/current-weather-trin.html",scope:!0,compile:function(t,r){return function(t,r,n){e(function(){{var t=window.innerHeight,n=r[0].offsetHeight;document.querySelector(".header.trin").offsetHeight}r[0].style.paddingTop=(t-n)/5+"px",angular.element(document.querySelector(".content")).css("-webkit-overflow-scrolling","auto"),e(function(){angular.element(document.querySelector(".content")).css("-webkit-overflow-scrolling","touch")},50)})}}}}).directive("currentWeatherBago",function(e,t){return{restrict:"E",replace:!0,templateUrl:"app/home/current-weather-bago.html",scope:!0,compile:function(t,r){return function(t,r,n){e(function(){{var t=window.innerHeight,n=r[0].offsetHeight;document.querySelector(".header.bago").offsetHeight}r[0].style.paddingTop=(t-n)/5+"px",angular.element(document.querySelector(".content")).css("-webkit-overflow-scrolling","auto"),e(function(){angular.element(document.querySelector(".content")).css("-webkit-overflow-scrolling","touch")},50)})}}}}).directive("forecast",function(e){return{restrict:"E",replace:!0,templateUrl:"app/home/forecast.html",link:function(e,t,r){}}}).directive("fiveThirty",function(e){return{restrict:"E",replace:!0,templateUrl:"app/forecast/five-thirty.html",link:function(e,t,r){}}}).directive("tenThree",function(e){return{restrict:"E",replace:!0,templateUrl:"app/forecast/ten-three.html",link:function(e,t,r){}}}).directive("fiveThirtyp",function(e){return{restrict:"E",replace:!0,templateUrl:"app/forecast/five-thirtyp.html",link:function(e,t,r){}}}).directive("weatherBox",function(e){return{restrict:"E",replace:!0,transclude:!0,scope:{title:"@"},template:'<div class="weather-box"><h4 class="title">{{title}}</h4><div ng-transclude></div></div>',link:function(e,t,r){}}}).directive("scrollEffects",function(){return{restrict:"A",link:function(e,t,r){{var n,i,c,l=document.querySelector(".bg-image");document.getElementById("trin-img")}t.bind("scroll",function(e){c||(c=document.querySelector(".header")),i=e.detail.scrollTop,n=Math.min(.6,i/1e3);{var t=5;"-webkit-filter: blur("+Math.abs(n*t)+"px);-moz-filter: blur("+n*t+"px);-o-filter: blur("+n*t+"px);-ms-filter: blur("+n*t+"px);filter: url('data:image/svg+xml;utf9,<svg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'><filter%20id='blur'><feGaussianBlur%20stdDeviation='60'%20/></filter></svg>#blur');filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius='"+n*t+"');clip: rect(520px 573px 516px 351px);"}ionic.requestAnimationFrame(function(){c.style.opacty=1-n,l&&(l.style.opacity=1-n)})})}}}).directive("backgroundCyclerTrin",function(e,t){var r=function(r,n,i){var c=n.children()[0],l=r.$new();l.url=i;var o=e("<background-image></background-image>")(l);t.enter(o,n,null,function(){}),c&&t.leave(angular.element(c),function(){})};return{restrict:"E",link:function(e,t,n){e.$watch("activeBgImage",function(n){if(n){var i="img/home-images/"+e.default_trin+".jpg",c=n;i="http://farm"+c.farm+".static.flickr.com/"+c.server+"/"+c.id+"_"+c.secret+"_z.jpg",console.log(i),$el2=document.getElementById("menu-bg"),$el2.style.background="url("+i+")",$el3=document.getElementById("i-trin"),$el3.src=i,r(e,t,i)}})}}}).directive("backgroundCyclerBago",function(e,t){var r=function(r,n,i){var c=n.children()[0],l=r.$new();l.url=i;var o=e("<background-image></background-image>")(l);t.enter(o,n,null,function(){}),c&&t.leave(angular.element(c),function(){})};return{restrict:"E",link:function(e,t,n){e.$watch("activeBgImage",function(n){if(n){var i=n,c="http://farm"+i.farm+".static.flickr.com/"+i.server+"/"+i.id+"_"+i.secret+"_z.jpg";$el2=document.getElementById("menu-bg"),$el2.style.background="url("+c+")",$el3=document.getElementById("i-bago"),$el3.src=c,r(e,t,c)}})}}}).directive("backgroundImage",function(e,t){return{restrict:"E",template:'<div class="bg-image"><div class="background-vignette"></div></div>',replace:!0,scope:!0,link:function(e,t,r){e.url&&(t[0].style.background="url("+e.url+") no-repeat center center fixed",setTimeout(function(){$(".bg-image").css({"-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover"})},100))}}}).directive("trinSunUp",function(e){return{restrict:"E",replace:!0,templateUrl:"app/home/svg/sun-rise.html",link:function(e,t,r){}}}).directive("trinSunDown",function(e){return{restrict:"E",replace:!0,templateUrl:"app/home/svg/sun-set.html",link:function(e,t,r){}}}).directive("bagoSunUp",function(e){return{restrict:"E",replace:!0,templateUrl:"app/forecast/five-thirtyp.html",link:function(e,t,r){}}}).directive("bagoSunDown",function(e){return{restrict:"E",replace:!0,templateUrl:"app/forecast/five-thirtyp.html",link:function(e,t,r){}}});